//
   Created by yaohw on 2017-03-20 23:07:00.

extends ../layout
block content
   div.container
      div.row
        div(class="col-md-5" style="padding-left:10px;padding-right:10px")
            ul(class="nav nav-tabs")
                li#all
                    a(href="/resource/1") 所有
                li#role 
                    a(href="/resource/2") 角色
                li#stage
                    a(href="/resource/3") 舞台
                li#audio
                    a(href="/resource/4") 音频
                script(type='text/javascript').
                    var type = '#{resourceType}'
                    if(type=="1"){
                        var li = $("#all")[0].className = "active";
                    }
                    else if(type=="2"){
                        $("#role")[0].className = "active";
                    }
                    else if(type=="3"){
                        $("#stage")[0].className = "active";
                    }
                    else if(type=="4"){
                        $("#audio")[0].className = "active";
                    }

        div(class="col-md-2" style="float:right")
            script(src="/javascripts/fileup.js")
            script(src="/javascripts/pages/resources.js")
            label(for="xfile" class="btn btn-info btn-xs" style="float:right")
                span(class="fa fa-plus" style="font-size:20px") 上传资源
            input(id="xfile" type="file" name="files" style="display:none")
      - for(var i=0; i<list.length;i=i+4)
             div.row(style="border-bottom:3px grey solid") 
                     div(class="col-md-3" style="padding-left:10px;padding-right:10px")
                        div
                            a(href='/resource/'+list[i].resourceType+'/'+list[i]._id)
                                img(src='/resources/'+list[i].resourcePath style="max-width:100%" alt="资源") 
                            div.row                             
                                 h3 #{list[i].title}                       
                            div.row(style="border-bottom:1px #f3f3f3 solid;height:50px; padding:15px;")

                                    div(class="col-md-8")
                                        a(href="#/user/id") 作者：#{list[i].auth}   
                                    div(class="col-md-4")
                                        span 
                                            p #{list[i].resourceType}
                     - var second = i+1;
                     - if(second<list.length)                     
                         div(class="col-md-3" style="padding-left:10px;padding-right:10px")
                            div
                                a(href='/resource/'+list[second].resourceType+'/'+list[second]._id)
                                    img(src='/resources/'+list[second].resourcePath style="max-width:100%" alt="资源") 
                                div.row                             
                                   h3 #{list[second].title}                                 
                                div.row(style="border-bottom:1px #f3f3f3 solid;height:50px; padding:15px;")
                                        div(class="col-md-8")
                                            a(href="#/user/id") 作者：#{list[second].auth} 
                                        div(class="col-md-4")
                                            span 
                                                p #{list[second].resourceType}

                     - var third = i+2;
                     - if(third<list.length)                     
                         div(class="col-md-3" style="padding-left:10px;padding-right:10px")
                            div
                                a(href='/resource/'+list[third].resourceType+'/'+list[third]._id)
                                    img(src='/resources/'+list[third].resourcePath style="max-width:100%" alt="资源")   
                                div.row                             
                                    h3 #{list[third].title}                              
                                div.row(style="border-bottom:1px #f3f3f3 solid;height:50px; padding:15px;")
                                        div(class="col-md-8")
                                            a(href="#/user/id") 作者：#{list[third].auth} 
                                        div(class="col-md-4")
                                            span 
                                                p #{list[third].resourceType}

                     - var fourth = i+3;
                     - if(fourth<list.length)                     
                         div(class="col-md-3" style="padding-left:10px;padding-right:10px")
                            div
                                a(href='/resource/'+list[fourth].resourceType+'/'+list[fourth]._id)
                                    img(src='/resources/'+list[fourth].resourcePath style="max-width:100%" alt="资源") 
                                div.row                             
                                    h3 #{list[fourth].title}                                
                                div.row(style="border-bottom:1px #f3f3f3 solid;height:50px; padding:15px;")
                                        div(class="col-md-8")
                                            a(href="#/user/id") 作者：#{list[fourth].auth} 
                                        div(class="col-md-4")
                                            span 
                                                p #{list[fourth].resourceType}   
                      

   div#uploadResultModal(class="modal")
        div(class="modal-header")
            a(class="close" data-dismiss="modal") ×
            h3 上传资源
        div(class="modal-body row")
            div(class="col-md-7")
                div(style="border:solid 1px grey")
                    div(class='player') 
                        
            div(class="col-md-5" style="padding-right:10px")
                div
                    span(class="input-group-addon") 资源类型：
                    <input   type="radio"   name="resourceType"    value="2"   checked="checked"/> 角色
                    <input   type="radio"   name="resourceType"    value="3" /> 舞台
                    <input   type="radio"   name="resourceType"    value="4" /> 音频
                div
                    span(class="input-group-addon") 资源名称：
                    input(id="resourceName" type="text" class="form-control" placeholder="起个名字")
                div
                    span(class="input-group-addon") 描述：
                    textarea(id="resourceDescription" type="text" style="height:200px" class="form-control" placeholder="简单描述一下吧")
         
        div(class="modal-footer")
            button#createResource(class="btn") 创建
            button(class="btn" data-dismiss="modal") 取消上传